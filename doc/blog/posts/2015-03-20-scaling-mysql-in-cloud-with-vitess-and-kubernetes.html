---
layout: post
title: Scaling MySQL in the cloud with Vitess and Kubernetes (blog post)
date: 2015-03-20
tocDepth: h2
attribution: Anthony Yeh, Software Engineer, YouTube
---

<p>Your new website is growing exponentially. After a few rounds of high fives, you start scaling to meet this unexpected demand. While you can always add more front-end servers, eventually your database becomes a bottleneck, which leads you to ...</p>

<ul>
  <li>Add more replicas for better read throughput and data durability</li>
  <li>Introduce sharding to scale your write throughput and let your data set grow beyond a single machine</li>
  <li>Create separate replica pools for batch jobs and backups, to isolate them from live traffic</li>
  <li>Clone the whole deployment into multiple datacenters worldwide for disaster recovery and lower latency</li>
</ul>

<p>At YouTube, we went on that <a href="https://www.youtube.com/watch?v=5yDO-tmIoXY&feature=youtu.be">journey</a> as we scaled our MySQL deployment, which today handles the metadata for billions of daily video views and <a href="http://www.youtube.com/yt/press/statistics.html">300 hours of new video uploads per minute</a>. To do this, we developed the <a href="http://vitess.io/">Vitess</a> platform, which addresses scaling challenges while hiding the associated complexity from the application layer.</p>

<p>Vitess is available as an <a href="https://github.com/youtube/vitess">open-source project</a> and runs best in a containerized environment. With <a href="http://kubernetes.io/">Kubernetes</a> and <a href="https://cloud.google.com/container-engine/">Google Container Engine</a> as your <a href="http://googlecloudplatform.blogspot.com/2015/01/what-makes-a-container-cluster.html">container cluster manager</a>, it's now a lot easier to get started. We’ve created a single deployment configuration for Vitess that works on <a href="http://kubernetes.io/gettingstarted/">any platform that Kubernetes supports</a>.</p>

<p>In addition to being easy to deploy in a container cluster, Vitess also takes full advantage of the benefits offered by a container cluster manager, in particular:</p>

<ul>
  <li><b>Horizontal scaling</b> – add capacity by launching additional nodes rather than making one huge node</li>
  <li><b>Dynamic placement</b> – let the cluster manager schedule Vitess containers wherever it wants</li>
  <li><b>Declarative specification</b> – describe your desired end state, and let the cluster manager create it</li>
  <li><b>Self-healing components</b> – recover automatically from machine failures</li>
</ul>

<p>In this environment, Vitess provides a MySQL storage layer with improved durability, scalability, and manageability.</p>

<p>We're just getting started with this integration, but you can already <a href="http://vitess.io/getting-started/">run Vitess on Kubernetes</a> yourself. For more on Vitess, check out our <a href="http://vitess.io/">website</a>, ask questions on our <a href="https://groups.google.com/forum/#!forum/vitess">forum</a>, or join us on <a href="https://github.com/youtube/vitess">GitHub</a>. In particular, take a look at our overview to understand the trade-offs of Vitess versus NoSQL solutions and fully-managed MySQL solutions like <a href="https://cloud.google.com/sql/">Google Cloud SQL</a>.</p>
